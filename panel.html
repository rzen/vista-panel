<html>
	<head>
		<script src="panel.v1.js"></script>
		<script src="secrets.js"></script>
		<link rel="stylesheet" type="text/css" href="panel.css">
	</head>
<body>

	<div class="keypad">
		<div id="status">
			Initializing
			<br>virtual keypad...
		</div>

		<div class="lcd-status">
			<div id="lcd-ready"></div>
			<div id="lcd-armed"></div>
			<div id="lcd-bypass"></div>
		</div>

		<div class="row">
			<div class="button" onclick="button_click_handler('1')">1<span class="label">Off</span></div>
			<div class="button" onclick="button_click_handler('2')">2<span class="label">Away</span></div>
			<div class="button" onclick="button_click_handler('3')">3<span class="label">Stay</span></div>
		</div>
		<div class="row">
			<div class="button" onclick="button_click_handler('4')">4<span class="label">Max</span></div>
			<div class="button" onclick="button_click_handler('5')">5<span class="label">Test</span></div>
			<div class="button" onclick="button_click_handler('6')">6<span class="label">Bypass</span></div>
		</div>
		<div class="row">
			<div class="button" onclick="button_click_handler('7')">7<span class="label">Instant</span></div>
			<div class="button" onclick="button_click_handler('8')">8<span class="label">Code</span></div>
			<div class="button" onclick="button_click_handler('9')">9<span class="label">Chime</span></div>
		</div>
		<div class="row">
			<div class="button" onclick="button_click_handler('*')">*<span class="label">Ready</span></div>
			<div class="button" onclick="button_click_handler('0')">0<span class="label"></span></div>
			<div class="button" onclick="button_click_handler('#')">#<span class="label"></span></div>
		</div>
	</div>

	<script>
		var keyPad = new VistaKeypad(
			new WebSocket("wss://alarmdealer.com:8800/ws"), 
			window.username,
			window.epass,
			window.device_id
		);

		function button_click_handler(key) {
			keyPad.keypress(key);
		}

		function keybaord_handler(event) {
			if ("0123456789*#".indexOf(event.key) !== -1) {
				keyPad.keypress(event.key);
			}
		}

		window.addEventListener("keypress", keybaord_handler, false);
	</script>
</body>
</html>